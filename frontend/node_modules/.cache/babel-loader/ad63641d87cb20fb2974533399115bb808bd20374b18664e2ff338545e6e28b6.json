{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{CartContext}from'../context/CartContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fallbackImg='https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80';const FoodMenu=_ref=>{let{foods}=_ref;const{cart,addToCart}=useContext(CartContext);const[snackbar,setSnackbar]=useState(false);const[snackFood,setSnackFood]=useState(null);const navigate=useNavigate();const handleAddToCart=food=>{addToCart(food._id);setSnackFood(food);setSnackbar(true);};// Keep snackbar visible as long as the item is in the cart\nuseEffect(()=>{if(snackbar&&snackFood){const inCart=cart.some(item=>item.food._id===snackFood._id);if(!inCart||cart.length===0)setSnackbar(false);}},[cart,snackbar,snackFood]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"food-menu\",children:foods.map(food=>/*#__PURE__*/_jsxs(\"div\",{className:\"food-item fade-in\",children:[/*#__PURE__*/_jsx(\"img\",{src:food.image||fallbackImg,alt:food.name,style:{width:'100%',height:120,objectFit:'cover',borderRadius:6,marginBottom:8},onError:e=>{e.target.onerror=null;e.target.src=fallbackImg;}}),/*#__PURE__*/_jsx(\"h4\",{children:food.name}),/*#__PURE__*/_jsx(\"p\",{children:food.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",food.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-cart-btn\",onClick:()=>handleAddToCart(food),children:\"Add to Cart\"})]},food._id))}),snackbar&&snackFood&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',left:0,right:0,bottom:30,margin:'0 auto',maxWidth:340,background:'#22223b',color:'#fff',borderRadius:16,boxShadow:'0 2px 12px rgba(34,34,59,0.18)',padding:'1rem 1.5rem',display:'flex',alignItems:'center',justifyContent:'space-between',zIndex:1000,animation:'fadeInUp 0.3s'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[snackFood.name,\" added to cart!\"]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:18,background:'#fca311',color:'#22223b',border:'none',borderRadius:12,padding:'0.4rem 1.1rem',fontWeight:700,cursor:'pointer'},onClick:()=>navigate('/cart'),children:\"Go to Cart\"})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(40px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      `})]});};export default FoodMenu;","map":{"version":3,"names":["React","useContext","useState","useEffect","CartContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fallbackImg","FoodMenu","_ref","foods","cart","addToCart","snackbar","setSnackbar","snackFood","setSnackFood","navigate","handleAddToCart","food","_id","inCart","some","item","length","children","className","map","src","image","alt","name","style","width","height","objectFit","borderRadius","marginBottom","onError","e","target","onerror","description","price","onClick","position","left","right","bottom","margin","maxWidth","background","color","boxShadow","padding","display","alignItems","justifyContent","zIndex","animation","marginLeft","border","fontWeight","cursor"],"sources":["/Users/adityakumar/DELIVERY/frontend/src/components/FoodMenu.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst fallbackImg = 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80';\n\nconst FoodMenu = ({ foods }) => {\n  const { cart, addToCart } = useContext(CartContext);\n  const [snackbar, setSnackbar] = useState(false);\n  const [snackFood, setSnackFood] = useState(null);\n  const navigate = useNavigate();\n\n  const handleAddToCart = (food) => {\n    addToCart(food._id);\n    setSnackFood(food);\n    setSnackbar(true);\n  };\n\n  // Keep snackbar visible as long as the item is in the cart\n  useEffect(() => {\n    if (snackbar && snackFood) {\n      const inCart = cart.some(item => item.food._id === snackFood._id);\n      if (!inCart || cart.length === 0) setSnackbar(false);\n    }\n  }, [cart, snackbar, snackFood]);\n\n  return (\n    <>\n      <div className=\"food-menu\">\n        {foods.map(food => (\n          <div key={food._id} className=\"food-item fade-in\">\n            <img src={food.image || fallbackImg} alt={food.name} style={{ width: '100%', height: 120, objectFit: 'cover', borderRadius: 6, marginBottom: 8 }} onError={e => { e.target.onerror = null; e.target.src = fallbackImg; }} />\n            <h4>{food.name}</h4>\n            <p>{food.description}</p>\n            <p>â‚¹{food.price}</p>\n            <button className=\"add-cart-btn\" onClick={() => handleAddToCart(food)}>Add to Cart</button>\n          </div>\n        ))}\n      </div>\n      {snackbar && snackFood && (\n        <div style={{ position: 'fixed', left: 0, right: 0, bottom: 30, margin: '0 auto', maxWidth: 340, background: '#22223b', color: '#fff', borderRadius: 16, boxShadow: '0 2px 12px rgba(34,34,59,0.18)', padding: '1rem 1.5rem', display: 'flex', alignItems: 'center', justifyContent: 'space-between', zIndex: 1000, animation: 'fadeInUp 0.3s' }}>\n          <span>{snackFood.name} added to cart!</span>\n          <button style={{ marginLeft: 18, background: '#fca311', color: '#22223b', border: 'none', borderRadius: 12, padding: '0.4rem 1.1rem', fontWeight: 700, cursor: 'pointer' }} onClick={() => navigate('/cart')}>Go to Cart</button>\n        </div>\n      )}\n      <style>{`\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(40px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default FoodMenu; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}