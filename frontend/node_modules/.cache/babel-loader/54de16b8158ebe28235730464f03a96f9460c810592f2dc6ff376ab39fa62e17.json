{"ast":null,"code":"var _jsxFileName = \"/Users/adityakumar/DELIVERY/frontend/src/pages/Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport { AuthContext } from '../context/AuthContext';\nimport api from '../utils/api';\nimport CartItem from '../components/CartItem';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const {\n    cart,\n    removeFromCart,\n    clearCart\n  } = useContext(CartContext);\n  const {\n    token\n  } = useContext(AuthContext);\n  const [message, setMessage] = React.useState('');\n  const [orderPlaced, setOrderPlaced] = React.useState(false);\n  const navigate = useNavigate();\n  const total = cart.reduce((sum, item) => sum + item.food.price * item.quantity, 0);\n  const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n  const handlePlaceOrder = async () => {\n    const res = await api.post('/orders/place', {}, token);\n    if (res._id) {\n      setMessage('Order placed successfully!');\n      setOrderPlaced(true);\n      clearCart(); // Clear cart in context, no reload\n      setTimeout(() => setMessage(''), 2500);\n    } else {\n      setMessage(res.message || 'Failed to place order');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-attractive-bg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-bg-pattern\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container cart-modern\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-title-box\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"page-title\",\n            children: \"Your Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-list\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n              item: item,\n              onRemove: removeFromCart\n            }, item.food._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Items:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 22\n              }, this), \" \", itemCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 22\n              }, this), \" $\", total.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cart-order-btn\",\n              onClick: handlePlaceOrder,\n              children: \"Place Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), orderPlaced && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-success popIn\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Order placed successfully!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/orders'),\n            children: \"View My Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-message fade-in\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Cart, \"a2dW9ULgh7jW20+ghpCTXpKZ+wg=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useContext","CartContext","AuthContext","api","CartItem","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","cart","removeFromCart","clearCart","token","message","setMessage","useState","orderPlaced","setOrderPlaced","navigate","total","reduce","sum","item","food","price","quantity","itemCount","handlePlaceOrder","res","post","_id","setTimeout","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onRemove","toFixed","onClick","_c","$RefreshReg$"],"sources":["/Users/adityakumar/DELIVERY/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport { AuthContext } from '../context/AuthContext';\nimport api from '../utils/api';\nimport CartItem from '../components/CartItem';\nimport { useNavigate } from 'react-router-dom';\n\nconst Cart = () => {\n  const { cart, removeFromCart, clearCart } = useContext(CartContext);\n  const { token } = useContext(AuthContext);\n  const [message, setMessage] = React.useState('');\n  const [orderPlaced, setOrderPlaced] = React.useState(false);\n  const navigate = useNavigate();\n\n  const total = cart.reduce((sum, item) => sum + (item.food.price * item.quantity), 0);\n  const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  const handlePlaceOrder = async () => {\n    const res = await api.post('/orders/place', {}, token);\n    if (res._id) {\n      setMessage('Order placed successfully!');\n      setOrderPlaced(true);\n      clearCart(); // Clear cart in context, no reload\n      setTimeout(() => setMessage(''), 2500);\n    } else {\n      setMessage(res.message || 'Failed to place order');\n    }\n  };\n\n  return (\n    <>\n      <div className=\"app-attractive-bg\" />\n      <div className=\"app-bg-pattern\" />\n      <div className=\"app-content\">\n        <div className=\"cart-container cart-modern\">\n          <div className=\"page-title-box\">\n            <h2 className=\"page-title\">Your Cart</h2>\n          </div>\n          {cart.length === 0 ? <p>Cart is empty</p> : (\n            <>\n              <div className=\"cart-list\">\n                {cart.map(item => (\n                  <CartItem key={item.food._id} item={item} onRemove={removeFromCart} />\n                ))}\n              </div>\n              <div className=\"cart-summary\">\n                <div><b>Items:</b> {itemCount}</div>\n                <div><b>Total:</b> ${total.toFixed(2)}</div>\n                <button className=\"cart-order-btn\" onClick={handlePlaceOrder}>Place Order</button>\n              </div>\n            </>\n          )}\n          {orderPlaced && (\n            <div className=\"order-success popIn\">\n              <p>Order placed successfully!</p>\n              <button onClick={() => navigate('/orders')}>View My Order</button>\n            </div>\n          )}\n          {message && <div className=\"cart-message fade-in\">{message}</div>}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Cart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}